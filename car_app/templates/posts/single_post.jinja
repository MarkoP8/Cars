{% extends "_layout.jinja" %}
{% block content %}
    <h2>{{post.title}}</h2>
    {% if ("user" in session) and (session.user.id == post.user.id) %} {# ovo drugo je da ne moze korisnik da brise drugom korisniku postove#}
        <a href="{{url_for('update_post', post_id=post.id)}}">Edit</a>
        <a id="post_delete" href="{{url_for('delete_post', post_id=post.id)}}">Delete</a>
    {% endif %}
    <div>
        <div>
        <table>
            <thead>
                <h2>Information</h2>
            </thead>
            <tbody>
                <tr>
                    <td>Brand</td>
                    <label for="post_brand"></label>
                    <td><select name="post_brand" id="brand"  disabled>
                        <option disabled {{ "selected" if not post.brand else "" }} value="">Brand</option>
                        <option value="bmw" {{ "selected" if post.brand == "bmw" else "" }}>Bmw</option>
                        <option value="rollse_royce" {{ "selected" if post.brand == "rollse_royce" else "" }}>Rollse Royce</option>
                        <option value="lamborghini" {{ "selected" if post.brand == "lamborghini" else "" }}>Lamborghini</option>
                        <option value="porshe" {{ "selected" if post.brand == "porshe" else "" }}>Porshe</option>
                        <option value="ferrari" {{ "selected" if post.brand == "ferrari" else "" }}>Ferrari</option>
                        <option value="mercedes" {{ "selected" if post.brand == "mercedes" else "" }}>Mercedes</option>
                        <option value="jaguar" {{ "selected" if post.brand == "jaguar" else "" }}>Jaguar</option>
                        <option value="mclaren" {{ "selected" if operation == "mclaren" else "" }}>McLaren</option>
                    </select></td>
                </tr>
                <tr>
                    <td>Model</td>
                    <label for="post_model"></label>
                    <td><input id="post_model" name="post_model" type="text" value="{{ post.model }}" disabled></td>
                </tr>
                <tr>
                    <td>Price $</td>
                    <label for="post_price"></label>
                    <td><input id="post_price" name="post_price" type="number" value="{{ post.price }}" disabled></td>
                </tr>
                <tr>
                    <td>Year made</td>
                    <label for="post_year_made"></label>
                    <td><input id="post_year_made" name="post_year_made" type="number"  value="{{ post.year_made }}" disabled></td>
                </tr>
                <tr>
                    <td>Mileage(km)</td>
                    <label for="post_mileage_km"></label>
                    <td><input id="post_mileage_km" name="post_mileage_km" type="number"  value="{{ post.mileage_km }}" disabled></td>
                </tr>
                <tr>
                    <td>Car body</td>
                    <label for="post_car_body"></label>
                    <td><input id="post_car_body" name="post_car_body" type="text"  value="{{ post.car_body }}" disabled></td>
                </tr>
                <tr>
                    <td>Feul</td>
                    <label for="post_feul"></label>
                    <td><input id="post_feul" name="post_feul" type="text" value="{{ post.feul }}" disabled></td>
                </tr>
                <tr>
                    <td>Cubic</td>
                    <label for="post_cubic"></label>
                    <td><input id="post_cubic" name="post_cubic" type="number" value="{{ post.cubic }}" disabled></td>
                </tr>
                <tr>
                    <td>Engine power(hp)</td>
                    <label for="post_engine_power_hp"></label>
                    <td><input id="post_engine_power_hp" name="post_engine_power_hp" type="number" value="{{ post.engine_power_hp }}" disabled></td>
                </tr>
                <tr>
                    <td>Contact (email)</td>
                    <label for="user_email"></label>
                    <td><input id="user_email" name="user_email" type="email" value="{{ post.user.email }}" disabled></td>
                </tr>
            </tbody>
        </table>
        <h2>Additional information</h2>
        <table>
            <tbody>
                <tr>
                    <td>Transmission</td>
                    <label for="post_transmission"></label>
                    <td><input id="post_transmission" name="post_transmission" type="text" value="{{ post.transmission }}" disabled></td>
                </tr>
                <tr>
                    <td>Original color</td>
                    <label for="post_original_color"></label>
                    <td><input id="post_original_color" name="post_original_color" type="text" value="{{ post.original_color }}" disabled></td>
                </tr>
                <tr>
                    <td>Climate</td>
                    <label for="post_climate"></label>
                    <td><input id="post_climate" name="post_climate" type="text" value="{{ post.climate }}" disabled></td>
                </tr>
                <tr>
                    <td>Doors</td>
                    <label for="post_doors"></label>
                    <td><input id="post_doors" name="post_doors" type="text" value="{{ post.doors }}" disabled></td>
                </tr>
            </tbody>
        </table>
    </div>
    </div>
    <h3><b>Country:</b> {{post.country.name}}</h3>
    <div class="gallery">
        {% if post.photo1 %}
        <a href="{{url_for('static', filename='cars_images/' + post.photo1)}}">
            <img src="{{url_for('static', filename='cars_images/' + post.photo1)}}" width=200 height=150><br>
        </a>
        {% endif %}
        {% if post.photo2 %}
        <a href="{{url_for('static', filename='cars_images/' + post.photo2)}}">
            <img src="{{url_for('static', filename='cars_images/' + post.photo2)}}" width=200 height=200>
        </a>
        {% endif %}

        {% if post.photo3%}
        <a href="{{url_for('static', filename='cars_images/' + post.photo3)}}">
            <img src="{{url_for('static', filename='cars_images/' + post.photo3)}}" width=200 height=200><br>
        </a>
        {% endif %}

        {% if post.photo4 %}
        <a href="{{url_for('static', filename='cars_images/' + post.photo4)}}">
            <img src="{{url_for('static', filename='cars_images/' + post.photo4)}}" width=200 height=200>
        </a>
        {% endif %}

        {% if post.photo5 %}
        <a href="{{url_for('static', filename='cars_images/' + post.photo5)}}">
            <img src="{{url_for('static', filename='cars_images/' + post.photo5)}}" width=200 height=200>
        </a>
        {% endif %}

    </div>
    <p>Posted on {{post.posted}} 
    by <a href="{{url_for('profile_details', username=post.user.username)}}">{{post.user.username}}</a></p>

    <script>
        const post_delete = document.querySelector("#post_delete")
        function delete_confirmation() {
            const choice = window.confirm("Are you sure you want to delete this post?")
            if(choice == false) {
                return false
            }
        }
        post_delete.onclick=delete_confirmation

    </script>
{% endblock  %}